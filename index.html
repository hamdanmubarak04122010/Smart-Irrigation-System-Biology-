<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Precision Smart Irrigation System</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background: linear-gradient(135deg, #1a936f, #88d498);
            color: white;
            padding: 20px 0;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            border-radius: 0 0 10px 10px;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo i {
            font-size: 2.5rem;
        }

        .logo h1 {
            font-size: 1.8rem;
        }

        nav ul {
            display: flex;
            list-style: none;
            gap: 30px;
        }

        nav a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            padding: 8px 15px;
            border-radius: 5px;
            transition: background-color 0.3s;
        }

        nav a:hover, nav a.active {
            background-color: rgba(255, 255, 255, 0.2);
        }

        .page {
            display: none;
            padding: 30px 0;
            animation: fadeIn 0.5s ease-in-out;
        }

        .page.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .card {
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            padding: 25px;
            margin-bottom: 25px;
        }

        .card h2 {
            color: #1a936f;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .card h2 i {
            font-size: 1.5rem;
        }

        .status-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .status-item {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            transition: transform 0.3s;
        }

        .status-item:hover {
            transform: translateY(-5px);
        }

        .status-item i {
            font-size: 2rem;
            margin-bottom: 10px;
            color: #1a936f;
        }

        .status-value {
            font-size: 1.5rem;
            font-weight: bold;
            margin: 5px 0;
        }

        .status-label {
            font-size: 0.9rem;
            color: #666;
        }

        .chart-container {
            height: 300px;
            margin-top: 20px;
        }

        .simulation-controls {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .control-group {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
        }

        .control-group h3 {
            margin-bottom: 15px;
            color: #1a936f;
        }

        .slider-container {
            margin: 15px 0;
        }

        .slider-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
        }

        input[type="range"] {
            width: 100%;
            height: 8px;
            border-radius: 5px;
            background: #ddd;
            outline: none;
        }

        .simulation-display {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 20px;
        }

        .field-visualization {
            background: #e9f5f1;
            border-radius: 10px;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .field {
            width: 300px;
            height: 300px;
            background: #c8e6c9;
            border: 2px solid #1a936f;
            border-radius: 5px;
            position: relative;
            overflow: hidden;
            margin-bottom: 20px;
        }

        .moisture-level {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            background: linear-gradient(to top, #4caf50, #8bc34a);
            transition: height 0.5s ease;
        }

        .irrigation-sprinkler {
            position: absolute;
            width: 20px;
            height: 20px;
            background: #2196f3;
            border-radius: 50%;
            top: 10px;
            left: 50%;
            transform: translateX(-50%);
        }

        .water-drops {
            position: absolute;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }

        .drop {
            position: absolute;
            width: 5px;
            height: 10px;
            background: #2196f3;
            border-radius: 50%;
            animation: fall linear infinite;
        }

        @keyframes fall {
            to {
                transform: translateY(300px);
            }
        }

        .simulation-data {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .data-item {
            display: flex;
            justify-content: space-between;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 5px;
        }

        .data-label {
            font-weight: 500;
        }

        .data-value {
            font-weight: bold;
            color: #1a936f;
        }

        .output-summary {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .output-card {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
        }

        .output-card i {
            font-size: 2.5rem;
            color: #1a936f;
            margin-bottom: 15px;
        }

        .output-value {
            font-size: 1.8rem;
            font-weight: bold;
            margin: 10px 0;
        }

        .output-label {
            color: #666;
        }

        .recommendation {
            background: #e3f2fd;
            border-left: 4px solid #2196f3;
            padding: 15px;
            margin: 20px 0;
        }

        .btn {
            background: #1a936f;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 500;
            transition: background 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn:hover {
            background: #157955;
        }

        .btn-outline {
            background: transparent;
            border: 2px solid #1a936f;
            color: #1a936f;
        }

        .btn-outline:hover {
            background: #1a936f;
            color: white;
        }

        .action-buttons {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }

        footer {
            text-align: center;
            padding: 20px;
            margin-top: 40px;
            color: #666;
            border-top: 1px solid #ddd;
        }

        /* OpenAI Chatbot Styles */
        .chatbot {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 1000;
        }

        .chatbot-btn {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            background: linear-gradient(135deg, #1a936f, #88d498);
            color: white;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .chatbot-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        }

        .chatbot-panel {
            position: absolute;
            bottom: 90px;
            right: 0;
            width: 380px;
            height: 500px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 5px 25px rgba(0, 0, 0, 0.15);
            display: flex;
            flex-direction: column;
            overflow: hidden;
            display: none;
        }

        .chatbot-panel.active {
            display: flex;
            animation: slideUp 0.3s ease-out;
        }

        @keyframes slideUp {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .chatbot-header {
            background: linear-gradient(135deg, #1a936f, #88d498);
            color: white;
            padding: 15px 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .chatbot-header h3 {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .chatbot-close {
            background: none;
            border: none;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
        }

        .chatbot-messages {
            flex: 1;
            padding: 15px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .message {
            max-width: 80%;
            padding: 12px 15px;
            border-radius: 18px;
            line-height: 1.4;
            position: relative;
        }

        .user-message {
            align-self: flex-end;
            background: #1a936f;
            color: white;
            border-bottom-right-radius: 5px;
        }

        .bot-message {
            align-self: flex-start;
            background: #f0f4f8;
            color: #333;
            border-bottom-left-radius: 5px;
        }

        .chatbot-input {
            display: flex;
            padding: 15px;
            border-top: 1px solid #eee;
            gap: 10px;
        }

        .chatbot-input input {
            flex: 1;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 25px;
            outline: none;
            font-size: 0.9rem;
        }

        .chatbot-input button {
            background: #1a936f;
            color: white;
            border: none;
            border-radius: 50%;
            width: 45px;
            height: 45px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: background 0.3s;
        }

        .chatbot-input button:hover {
            background: #157955;
        }

        .typing-indicator {
            display: flex;
            align-items: center;
            gap: 5px;
            padding: 12px 15px;
            background: #f0f4f8;
            border-radius: 18px;
            border-bottom-left-radius: 5px;
            align-self: flex-start;
            color: #666;
        }

        .typing-dot {
            width: 8px;
            height: 8px;
            background: #999;
            border-radius: 50%;
            animation: typingAnimation 1.4s infinite ease-in-out;
        }

        .typing-dot:nth-child(1) { animation-delay: 0s; }
        .typing-dot:nth-child(2) { animation-delay: 0.2s; }
        .typing-dot:nth-child(3) { animation-delay: 0.4s; }

        @keyframes typingAnimation {
            0%, 60%, 100% { transform: translateY(0); }
            30% { transform: translateY(-5px); }
        }

        /* Precision Indicators */
        .precision-indicator {
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 0.8rem;
            color: #666;
            margin-top: 5px;
        }

        .precision-high {
            color: #4caf50;
        }

        .precision-medium {
            color: #ff9800;
        }

        .precision-low {
            color: #f44336;
        }

        .calculation-details {
            background: #f8f9fa;
            border-radius: 5px;
            padding: 15px;
            margin-top: 15px;
            font-size: 0.9rem;
        }

        .calculation-details h4 {
            margin-bottom: 10px;
            color: #1a936f;
        }

        .formula {
            font-family: monospace;
            background: #e9ecef;
            padding: 5px 10px;
            border-radius: 3px;
            margin: 5px 0;
        }

        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 15px;
            }
            
            nav ul {
                gap: 15px;
            }
            
            .simulation-display {
                grid-template-columns: 1fr;
            }
            
            .field {
                width: 250px;
                height: 250px;
            }

            .chatbot-panel {
                width: 320px;
                right: -20px;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <i class="fas fa-tint"></i>
                    <h1>Precision Smart Irrigation</h1>
                </div>
                <nav>
                    <ul>
                        <li><a href="#" class="nav-link active" data-page="home">Home</a></li>
                        <li><a href="#" class="nav-link" data-page="simulation">Precision Simulation</a></li>
                        <li><a href="#" class="nav-link" data-page="output">Analysis & Output</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>

    <div class="container">
        <!-- Home Page -->
        <div id="home" class="page active">
            <div class="card">
                <h2><i class="fas fa-home"></i> Precision System Overview</h2>
                <p>Welcome to the Precision Smart Irrigation System. This advanced application uses real-time sensor data and AI algorithms to optimize water usage with millimeter accuracy for sustainable agriculture.</p>
                
                <div class="status-grid">
                    <div class="status-item">
                        <i class="fas fa-temperature-high"></i>
                        <div class="status-value">28.3°C</div>
                        <div class="status-label">Temperature</div>
                        <div class="precision-indicator precision-high">
                            <i class="fas fa-bullseye"></i> High Precision
                        </div>
                    </div>
                    <div class="status-item">
                        <i class="fas fa-tint"></i>
                        <div class="status-value">42.7%</div>
                        <div class="status-label">Soil Moisture</div>
                        <div class="precision-indicator precision-high">
                            <i class="fas fa-bullseye"></i> High Precision
                        </div>
                    </div>
                    <div class="status-item">
                        <i class="fas fa-wind"></i>
                        <div class="status-value">15.2 km/h</div>
                        <div class="status-label">Wind Speed</div>
                        <div class="precision-indicator precision-medium">
                            <i class="fas fa-bullseye"></i> Medium Precision
                        </div>
                    </div>
                    <div class="status-item">
                        <i class="fas fa-cloud-sun"></i>
                        <div class="status-value">65.8%</div>
                        <div class="status-label">Humidity</div>
                        <div class="precision-indicator precision-high">
                            <i class="fas fa-bullseye"></i> High Precision
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="card">
                <h2><i class="fas fa-chart-line"></i> Precision Soil Moisture Trends</h2>
                <div class="chart-container" id="moisture-chart">
                    <!-- Chart would be implemented with a library like Chart.js in a real application -->
                    <div style="display: flex; align-items: flex-end; height: 100%; gap: 10px; justify-content: center; padding: 20px;">
                        <div style="width: 40px; height: 70%; background: #4caf50; border-radius: 5px; position: relative;">
                            <div style="position: absolute; bottom: -25px; width: 100%; text-align: center;">42.7%</div>
                        </div>
                        <div style="width: 40px; height: 50%; background: #8bc34a; border-radius: 5px; position: relative;">
                            <div style="position: absolute; bottom: -25px; width: 100%; text-align: center;">38.2%</div>
                        </div>
                        <div style="width: 40px; height: 30%; background: #cddc39; border-radius: 5px; position: relative;">
                            <div style="position: absolute; bottom: -25px; width: 100%; text-align: center;">29.5%</div>
                        </div>
                        <div style="width: 40px; height: 60%; background: #4caf50; border-radius: 5px; position: relative;">
                            <div style="position: absolute; bottom: -25px; width: 100%; text-align: center;">45.1%</div>
                        </div>
                        <div style="width: 40px; height: 40%; background: #8bc34a; border-radius: 5px; position: relative;">
                            <div style="position: absolute; bottom: -25px; width: 100%; text-align: center;">35.8%</div>
                        </div>
                        <div style="width: 40px; height: 80%; background: #2e7d32; border-radius: 5px; position: relative;">
                            <div style="position: absolute; bottom: -25px; width: 100%; text-align: center;">48.3%</div>
                        </div>
                    </div>
                </div>
                <div class="precision-indicator precision-high" style="justify-content: center; margin-top: 10px;">
                    <i class="fas fa-bullseye"></i> Data accuracy: ±0.5%
                </div>
            </div>
            
            <div class="card">
                <h2><i class="fas fa-cogs"></i> Precision System Status</h2>
                <p>The irrigation system is currently <span style="color: #4caf50; font-weight: bold;">ACTIVE</span> and operating with 94.2% precision efficiency.</p>
                
                <div class="calculation-details">
                    <h4><i class="fas fa-calculator"></i> Precision Metrics</h4>
                    <p><strong>Water Distribution Uniformity:</strong> 92.7%</p>
                    <p><strong>Sensor Accuracy:</strong> ±0.3%</p>
                    <p><strong>Algorithm Precision:</strong> 96.1%</p>
                    <p><strong>Calibration Status:</strong> Optimal</p>
                </div>
                
                <div class="action-buttons">
                    <button class="btn"><i class="fas fa-play"></i> Start Precision Irrigation</button>
                    <button class="btn btn-outline"><i class="fas fa-pause"></i> Pause System</button>
                    <button class="btn btn-outline"><i class="fas fa-sync"></i> Calibrate Sensors</button>
                </div>
            </div>
        </div>

        <!-- Simulation Page -->
        <div id="simulation" class="page">
            <div class="card">
                <h2><i class="fas fa-sliders-h"></i> Precision Simulation Controls</h2>
                <p>Adjust the parameters below to simulate different environmental conditions with high precision. The system uses advanced algorithms to calculate exact water requirements.</p>
                
                <div class="simulation-controls">
                    <div class="control-group">
                        <h3>Environmental Factors</h3>
                        <div class="slider-container">
                            <div class="slider-label">
                                <span>Temperature</span>
                                <span id="temp-value">25.0°C</span>
                            </div>
                            <input type="range" min="10" max="40" step="0.1" value="25.0" class="param-slider" id="temperature">
                            <div class="precision-indicator precision-high">
                                <i class="fas fa-bullseye"></i> Precision: ±0.1°C
                            </div>
                        </div>
                        <div class="slider-container">
                            <div class="slider-label">
                                <span>Humidity</span>
                                <span id="humidity-value">60.0%</span>
                            </div>
                            <input type="range" min="10" max="90" step="0.1" value="60.0" class="param-slider" id="humidity">
                            <div class="precision-indicator precision-high">
                                <i class="fas fa-bullseye"></i> Precision: ±0.1%
                            </div>
                        </div>
                        <div class="slider-container">
                            <div class="slider-label">
                                <span>Wind Speed</span>
                                <span id="wind-value">10.0 km/h</span>
                            </div>
                            <input type="range" min="0" max="50" step="0.1" value="10.0" class="param-slider" id="wind">
                            <div class="precision-indicator precision-medium">
                                <i class="fas fa-bullseye"></i> Precision: ±0.2 km/h
                            </div>
                        </div>
                    </div>
                    
                    <div class="control-group">
                        <h3>Soil Properties</h3>
                        <div class="slider-container">
                            <div class="slider-label">
                                <span>Soil Type</span>
                                <span id="soil-value">Loam</span>
                            </div>
                            <input type="range" min="1" max="3" value="2" class="param-slider" id="soil-type">
                        </div>
                        <div class="slider-container">
                            <div class="slider-label">
                                <span>Initial Moisture</span>
                                <span id="moisture-value">40.0%</span>
                            </div>
                            <input type="range" min="10" max="80" step="0.1" value="40.0" class="param-slider" id="moisture">
                            <div class="precision-indicator precision-high">
                                <i class="fas fa-bullseye"></i> Precision: ±0.1%
                            </div>
                        </div>
                        <div class="slider-container">
                            <div class="slider-label">
                                <span>Crop Type</span>
                                <span id="crop-value">Corn</span>
                            </div>
                            <input type="range" min="1" max="4" value="2" class="param-slider" id="crop-type">
                        </div>
                    </div>
                    
                    <div class="control-group">
                        <h3>Irrigation Settings</h3>
                        <div class="slider-container">
                            <div class="slider-label">
                                <span>Water Flow Rate</span>
                                <span id="flow-value">5.0 L/min</span>
                            </div>
                            <input type="range" min="1" max="10" step="0.1" value="5.0" class="param-slider" id="flow-rate">
                            <div class="precision-indicator precision-high">
                                <i class="fas fa-bullseye"></i> Precision: ±0.05 L/min
                            </div>
                        </div>
                        <div class="slider-container">
                            <div class="slider-label">
                                <span>Irrigation Duration</span>
                                <span id="duration-value">30.0 min</span>
                            </div>
                            <input type="range" min="5" max="60" step="0.5" value="30.0" class="param-slider" id="duration">
                            <div class="precision-indicator precision-high">
                                <i class="fas fa-bullseye"></i> Precision: ±0.1 min
                            </div>
                        </div>
                        <div class="slider-container">
                            <div class="slider-label">
                                <span>System Pressure</span>
                                <span id="pressure-value">2.5 bar</span>
                            </div>
                            <input type="range" min="1" max="5" step="0.1" value="2.5" class="param-slider" id="pressure">
                            <div class="precision-indicator precision-medium">
                                <i class="fas fa-bullseye"></i> Precision: ±0.1 bar
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="calculation-details">
                    <h4><i class="fas fa-calculator"></i> Precision Calculation Methods</h4>
                    <p><strong>Evapotranspiration (ET):</strong> <span class="formula">ET = Kc × ETo</span></p>
                    <p><strong>Water Requirement:</strong> <span class="formula">WR = A × (ET - Pe) × Ks</span></p>
                    <p><strong>Irrigation Efficiency:</strong> <span class="formula">IE = (Water Used / Water Required) × 100</span></p>
                    <p>Where: Kc = Crop coefficient, ETo = Reference evapotranspiration, Pe = Effective precipitation, Ks = Soil water depletion factor</p>
                </div>
                
                <div class="action-buttons">
                    <button class="btn" id="run-simulation"><i class="fas fa-play-circle"></i> Run Precision Simulation</button>
                    <button class="btn btn-outline" id="reset-simulation"><i class="fas fa-redo"></i> Reset Parameters</button>
                </div>
            </div>
            
            <div class="card">
                <h2><i class="fas fa-eye"></i> Precision Simulation Visualization</h2>
                <div class="simulation-display">
                    <div class="field-visualization">
                        <h3>Field Conditions</h3>
                        <div class="field">
                            <div class="moisture-level" id="moisture-level" style="height: 40%;"></div>
                            <div class="irrigation-sprinkler"></div>
                            <div class="water-drops" id="water-drops"></div>
                        </div>
                        <p>Current Soil Moisture: <span id="current-moisture">40.0%</span> <span class="precision-indicator precision-high">(±0.1%)</span></p>
                    </div>
                    
                    <div class="simulation-data">
                        <h3>Precision Simulation Data</h3>
                        <div class="data-item">
                            <span class="data-label">Evapotranspiration:</span>
                            <span class="data-value" id="et-value">4.2 mm/day</span>
                        </div>
                        <div class="data-item">
                            <span class="data-label">Water Requirement:</span>
                            <span class="data-value" id="water-req">25.3 L/m²</span>
                        </div>
                        <div class="data-item">
                            <span class="data-label">Irrigation Efficiency:</span>
                            <span class="data-value" id="efficiency">78.4%</span>
                        </div>
                        <div class="data-item">
                            <span class="data-label">Water Saved:</span>
                            <span class="data-value" id="water-saved">15.2%</span>
                        </div>
                        <div class="data-item">
                            <span class="data-label">Energy Consumption:</span>
                            <span class="data-value" id="energy">2.34 kWh</span>
                        </div>
                        <div class="data-item">
                            <span class="data-label">Cost Savings:</span>
                            <span class="data-value" id="savings">$12.75</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Output Page -->
        <div id="output" class="page">
            <div class="card">
                <h2><i class="fas fa-chart-bar"></i> Precision Irrigation Analysis</h2>
                <p>Based on the precision simulation results, here's a detailed analysis of your irrigation system performance with millimeter accuracy.</p>
                
                <div class="output-summary">
                    <div class="output-card">
                        <i class="fas fa-tint"></i>
                        <div class="output-value">325.7 L</div>
                        <div class="output-label">Water Used</div>
                        <div class="precision-indicator precision-high">±0.5 L</div>
                    </div>
                    <div class="output-card">
                        <i class="fas fa-bolt"></i>
                        <div class="output-value">2.34 kWh</div>
                        <div class="output-label">Energy Consumed</div>
                        <div class="precision-indicator precision-medium">±0.05 kWh</div>
                    </div>
                    <div class="output-card">
                        <i class="fas fa-dollar-sign"></i>
                        <div class="output-value">$8.42</div>
                        <div class="output-label">Operation Cost</div>
                        <div class="precision-indicator precision-high">±$0.05</div>
                    </div>
                    <div class="output-card">
                        <i class="fas fa-leaf"></i>
                        <div class="output-value">78.4%</div>
                        <div class="output-label">System Efficiency</div>
                        <div class="precision-indicator precision-high">±0.3%</div>
                    </div>
                </div>
                
                <div class="recommendation">
                    <h3><i class="fas fa-lightbulb"></i> Precision Optimization Recommendation</h3>
                    <p>Based on the current soil moisture levels (42.7%) and weather forecast, we recommend reducing irrigation duration by 14.7% and increasing the interval between watering sessions by 2 days. This could save approximately 18.3% of water (59.6 L) without affecting crop health.</p>
                </div>
            </div>
            
            <div class="card">
                <h2><i class="fas fa-calendar-alt"></i> Precision Irrigation Schedule</h2>
                <p>Optimal irrigation schedule based on current conditions and forecast with precision timing:</p>
                
                <div style="overflow-x: auto; margin-top: 20px;">
                    <table style="width: 100%; border-collapse: collapse;">
                        <thead>
                            <tr style="background: #1a936f; color: white;">
                                <th style="padding: 12px; text-align: left;">Date</th>
                                <th style="padding: 12px; text-align: left;">Time</th>
                                <th style="padding: 12px; text-align: left;">Duration</th>
                                <th style="padding: 12px; text-align: left;">Water Volume</th>
                                <th style="padding: 12px; text-align: left;">Precision</th>
                                <th style="padding: 12px; text-align: left;">Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr style="border-bottom: 1px solid #ddd;">
                                <td style="padding: 12px;">Today</td>
                                <td style="padding: 12px;">06:00:00 AM</td>
                                <td style="padding: 12px;">25.3 min</td>
                                <td style="padding: 12px;">280.5 L</td>
                                <td style="padding: 12px;"><span class="precision-indicator precision-high">High</span></td>
                                <td style="padding: 12px;"><span style="color: #4caf50; font-weight: bold;">Completed</span></td>
                            </tr>
                            <tr style="border-bottom: 1px solid #ddd;">
                                <td style="padding: 12px;">Tomorrow</td>
                                <td style="padding: 12px;">06:27:30 AM</td>
                                <td style="padding: 12px;">20.7 min</td>
                                <td style="padding: 12px;">225.8 L</td>
                                <td style="padding: 12px;"><span class="precision-indicator precision-high">High</span></td>
                                <td style="padding: 12px;"><span style="color: #ff9800; font-weight: bold;">Scheduled</span></td>
                            </tr>
                            <tr style="border-bottom: 1px solid #ddd;">
                                <td style="padding: 12px;">Day after tomorrow</td>
                                <td style="padding: 12px;">07:03:45 AM</td>
                                <td style="padding: 12px;">30.2 min</td>
                                <td style="padding: 12px;">340.1 L</td>
                                <td style="padding: 12px;"><span class="precision-indicator precision-high">High</span></td>
                                <td style="padding: 12px;"><span style="color: #ff9800; font-weight: bold;">Scheduled</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            
            <div class="card">
                <h2><i class="fas fa-info-circle"></i> About This Precision Application</h2>
                <p>The Precision Smart Irrigation System is designed to optimize water usage in agricultural and landscaping applications with millimeter accuracy. It uses real-time sensor data, weather forecasts, and AI algorithms to determine the precise amount of water needed by plants.</p>
                
                <h3 style="margin: 20px 0 10px; color: #1a936f;">Precision Features:</h3>
                <ul style="padding-left: 20px; margin-bottom: 20px;">
                    <li>High-precision monitoring of soil moisture (±0.1%), temperature (±0.1°C), and humidity (±0.1%)</li>
                    <li>Advanced simulation of irrigation under various conditions with scientific formulas</li>
                    <li>Millimeter-accurate water requirement calculations based on crop type and soil properties</li>
                    <li>Energy and cost savings analysis with high precision</li>
                    <li>AI-powered automated irrigation scheduling</li>
                    <li>OpenAI chatbot for intelligent assistance</li>
                </ul>
                
                <h3 style="margin: 20px 0 10px; color: #1a936f;">How It Works:</h3>
                <p>The system collects high-precision data from various sensors placed in the field. This data is processed using advanced AI algorithms to calculate evapotranspiration rates and determine optimal irrigation schedules with scientific accuracy. The simulation module allows users to test different scenarios and optimize their irrigation strategy.</p>
            </div>
        </div>
    </div>

    <!-- OpenAI Chatbot -->
    <div class="chatbot">
        <button class="chatbot-btn" id="chatbot-btn">
            <i class="fas fa-robot"></i>
        </button>
        <div class="chatbot-panel" id="chatbot-panel">
            <div class="chatbot-header">
                <h3><i class="fas fa-robot"></i> Irrigation AI Assistant</h3>
                <button class="chatbot-close" id="chatbot-close">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="chatbot-messages" id="chatbot-messages">
                <div class="message bot-message">
                    Hello! I'm your AI irrigation assistant. I can help you analyze irrigation data, optimize water usage, and answer questions about precision farming. How can I assist you today?
                </div>
            </div>
            <div class="chatbot-input">
                <input type="text" id="chatbot-input" placeholder="Ask about irrigation, water usage, or system status...">
                <button id="chatbot-send">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
        </div>
    </div>

    <footer>
        <div class="container">
            <p>Precision Smart Irrigation System &copy; 2023 | Millimeter-Accurate Water Management</p>
        </div>
    </footer>

    <script>
        // Page Navigation
        document.querySelectorAll('.nav-link').forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                const targetPage = this.getAttribute('data-page');
                
                // Update active nav link
                document.querySelectorAll('.nav-link').forEach(nav => nav.classList.remove('active'));
                this.classList.add('active');
                
                // Show target page
                document.querySelectorAll('.page').forEach(page => page.classList.remove('active'));
                document.getElementById(targetPage).classList.add('active');
            });
        });

        // Simulation Controls
        const sliders = document.querySelectorAll('.param-slider');
        sliders.forEach(slider => {
            slider.addEventListener('input', function() {
                const valueId = this.id + '-value';
                let value = this.value;
                
                // Update display values based on slider type
                switch(this.id) {
                    case 'temperature':
                        document.getElementById(valueId).textContent = parseFloat(value).toFixed(1) + '°C';
                        break;
                    case 'humidity':
                        document.getElementById(valueId).textContent = parseFloat(value).toFixed(1) + '%';
                        break;
                    case 'wind':
                        document.getElementById(valueId).textContent = parseFloat(value).toFixed(1) + ' km/h';
                        break;
                    case 'soil-type':
                        const soilTypes = ['Sandy', 'Loam', 'Clay'];
                        document.getElementById(valueId).textContent = soilTypes[value-1];
                        break;
                    case 'moisture':
                        document.getElementById(valueId).textContent = parseFloat(value).toFixed(1) + '%';
                        document.getElementById('moisture-level').style.height = value + '%';
                        document.getElementById('current-moisture').textContent = parseFloat(value).toFixed(1) + '%';
                        break;
                    case 'crop-type':
                        const cropTypes = ['Wheat', 'Corn', 'Soybean', 'Cotton'];
                        document.getElementById(valueId).textContent = cropTypes[value-1];
                        break;
                    case 'flow-rate':
                        document.getElementById(valueId).textContent = parseFloat(value).toFixed(1) + ' L/min';
                        break;
                    case 'duration':
                        document.getElementById(valueId).textContent = parseFloat(value).toFixed(1) + ' min';
                        break;
                    case 'pressure':
                        document.getElementById(valueId).textContent = parseFloat(value).toFixed(1) + ' bar';
                        break;
                }
            });
        });

        // Run Simulation
        document.getElementById('run-simulation').addEventListener('click', function() {
            // In a real application, this would run complex calculations
            // For this demo, we'll just update some values with precision
            
            // Get current values for calculations
            const temp = parseFloat(document.getElementById('temperature').value);
            const humidity = parseFloat(document.getElementById('humidity').value);
            const wind = parseFloat(document.getElementById('wind').value);
            const moisture = parseFloat(document.getElementById('moisture').value);
            const flow = parseFloat(document.getElementById('flow-rate').value);
            const duration = parseFloat(document.getElementById('duration').value);
            
            // Calculate values with precision formulas
            const et = (0.1 * temp + 0.05 * (100 - humidity) + 0.02 * wind).toFixed(2);
            const waterReq = (et * 1.2 * (100 - moisture) / 10).toFixed(1);
            const efficiency = (75 + Math.random() * 10).toFixed(1);
            const waterSaved = (10 + Math.random() * 10).toFixed(1);
            const energy = (flow * duration * 0.015).toFixed(2);
            const savings = (parseFloat(waterSaved) * 0.8).toFixed(2);
            
            // Update simulation data
            document.getElementById('et-value').textContent = et + ' mm/day';
            document.getElementById('water-req').textContent = waterReq + ' L/m²';
            document.getElementById('efficiency').textContent = efficiency + '%';
            document.getElementById('water-saved').textContent = waterSaved + '%';
            document.getElementById('energy').textContent = energy + ' kWh';
            document.getElementById('savings').textContent = '$' + savings;
            
            // Animate moisture level
            const moistureLevel = document.getElementById('moisture-level');
            const currentMoisture = parseFloat(document.getElementById('moisture').value);
            const targetMoisture = Math.min(80, currentMoisture + 30);
            
            let currentHeight = currentMoisture;
            const interval = setInterval(() => {
                if (currentHeight >= targetMoisture) {
                    clearInterval(interval);
                } else {
                    currentHeight += 0.5;
                    moistureLevel.style.height = currentHeight + '%';
                    document.getElementById('current-moisture').textContent = currentHeight.toFixed(1) + '%';
                }
            }, 50);
            
            // Create water drops animation
            const waterDrops = document.getElementById('water-drops');
            waterDrops.innerHTML = '';
            
            for (let i = 0; i < 20; i++) {
                const drop = document.createElement('div');
                drop.className = 'drop';
                drop.style.left = Math.random() * 100 + '%';
                drop.style.animationDuration = (0.5 + Math.random() * 1) + 's';
                drop.style.animationDelay = Math.random() * 2 + 's';
                waterDrops.appendChild(drop);
            }
            
            // Remove drops after animation
            setTimeout(() => {
                waterDrops.innerHTML = '';
            }, 3000);
        });

        // Reset Simulation
        document.getElementById('reset-simulation').addEventListener('click', function() {
            // Reset all sliders to default values
            document.getElementById('temperature').value = 25.0;
            document.getElementById('temperature').dispatchEvent(new Event('input'));
            
            document.getElementById('humidity').value = 60.0;
            document.getElementById('humidity').dispatchEvent(new Event('input'));
            
            document.getElementById('wind').value = 10.0;
            document.getElementById('wind').dispatchEvent(new Event('input'));
            
            document.getElementById('soil-type').value = 2;
            document.getElementById('soil-type').dispatchEvent(new Event('input'));
            
            document.getElementById('moisture').value = 40.0;
            document.getElementById('moisture').dispatchEvent(new Event('input'));
            
            document.getElementById('crop-type').value = 2;
            document.getElementById('crop-type').dispatchEvent(new Event('input'));
            
            document.getElementById('flow-rate').value = 5.0;
            document.getElementById('flow-rate').dispatchEvent(new Event('input'));
            
            document.getElementById('duration').value = 30.0;
            document.getElementById('duration').dispatchEvent(new Event('input'));
            
            document.getElementById('pressure').value = 2.5;
            document.getElementById('pressure').dispatchEvent(new Event('input'));
            
            // Reset simulation data
            document.getElementById('et-value').textContent = '4.20 mm/day';
            document.getElementById('water-req').textContent = '25.3 L/m²';
            document.getElementById('efficiency').textContent = '78.4%';
            document.getElementById('water-saved').textContent = '15.2%';
            document.getElementById('energy').textContent = '2.34 kWh';
            document.getElementById('savings').textContent = '$12.75';
            
            // Clear water drops
            document.getElementById('water-drops').innerHTML = '';
        });

        // OpenAI Chatbot
        const chatbotBtn = document.getElementById('chatbot-btn');
        const chatbotPanel = document.getElementById('chatbot-panel');
        const chatbotClose = document.getElementById('chatbot-close');
        const chatbotMessages = document.getElementById('chatbot-messages');
        const chatbotInput = document.getElementById('chatbot-input');
        const chatbotSend = document.getElementById('chatbot-send');
        
        // Toggle chatbot panel
        chatbotBtn.addEventListener('click', function() {
            chatbotPanel.classList.toggle('active');
        });
        
        // Close chatbot panel
        chatbotClose.addEventListener('click', function() {
            chatbotPanel.classList.remove('active');
        });
        
        // Send message function
        function sendMessage() {
            const message = chatbotInput.value.trim();
            if (message) {
                // Add user message
                addMessage(message, 'user');
                
                // Clear input
                chatbotInput.value = '';
                
                // Show typing indicator
                showTypingIndicator();
                
                // Generate response (in a real app, this would call OpenAI API)
                setTimeout(() => {
                    removeTypingIndicator();
                    const response = generateOpenAIResponse(message);
                    addMessage(response, 'bot');
                }, 1500);
            }
        }
        
        // Add message to chat
        function addMessage(text, sender) {
            const messageElement = document.createElement('div');
            messageElement.className = `message ${sender}-message`;
            messageElement.textContent = text;
            chatbotMessages.appendChild(messageElement);
            chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
        }
        
        // Show typing indicator
        function showTypingIndicator() {
            const typingElement = document.createElement('div');
            typingElement.className = 'typing-indicator';
            typingElement.id = 'typing-indicator';
            typingElement.innerHTML = `
                <div class="typing-dot"></div>
                <div class="typing-dot"></div>
                <div class="typing-dot"></div>
                <span>AI is thinking...</span>
            `;
            chatbotMessages.appendChild(typingElement);
            chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
        }
        
        // Remove typing indicator
        function removeTypingIndicator() {
            const typingElement = document.getElementById('typing-indicator');
            if (typingElement) {
                typingElement.remove();
            }
        }
        
        // Send message on button click
        chatbotSend.addEventListener('click', sendMessage);
        
        // Send message on Enter key
        chatbotInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });
        
        // Generate OpenAI-like response
        function generateOpenAIResponse(message) {
            const lowerMessage = message.toLowerCase();
            
            // Get current system data for context
            const moisture = document.getElementById('current-moisture') ? 
                document.getElementById('current-moisture').textContent : '42.7%';
            const temp = document.querySelector('.status-value') ? 
                document.querySelector('.status-value').textContent : '28.3°C';
            
            if (lowerMessage.includes('hello') || lowerMessage.includes('hi')) {
                return "Hello! I'm your AI irrigation assistant. I can help you analyze irrigation data, optimize water usage, and answer questions about precision farming. How can I assist you today?";
            } else if (lowerMessage.includes('status') || lowerMessage.includes('how is')) {
                return `Based on the current system data, your irrigation system is operating optimally. Soil moisture is at ${moisture}, temperature is ${temp}, and all sensors are reporting normal readings. The system efficiency is currently at 94.2%.`;
            } else if (lowerMessage.includes('moisture') || lowerMessage.includes('water')) {
                return `Current soil moisture is ${moisture}. This is within the optimal range for most crops. I recommend monitoring moisture levels daily and irrigating when levels drop below 30%. Based on current conditions, you can save approximately 18% water by optimizing your irrigation schedule.`;
            } else if (lowerMessage.includes('simulation') || lowerMessage.includes('run')) {
                return "I can help you understand simulation results. The precision simulation uses scientific formulas to calculate water requirements based on temperature, humidity, wind, soil type, and crop needs. Would you like me to explain any specific aspect of the simulation?";
            } else if (lowerMessage.includes('recommend') || lowerMessage.includes('advice')) {
                return "Based on current conditions and weather forecasts, I recommend:\n1. Reduce irrigation duration by 14.7%\n2. Increase intervals between watering by 2 days\n3. Schedule irrigation for early morning (5-7 AM)\n4. Consider installing moisture sensors in different soil zones\nThis could save approximately 18.3% water while maintaining crop health.";
            } else if (lowerMessage.includes('temperature') || lowerMessage.includes('weather')) {
                return `The current temperature is ${temp}. Higher temperatures increase evapotranspiration rates, meaning plants lose more water. For every 5°C increase above 25°C, water requirements typically increase by 10-15%. I recommend adjusting irrigation schedules based on temperature forecasts.`;
            } else if (lowerMessage.includes('formula') || lowerMessage.includes('calculate')) {
                return "The system uses several precision formulas:\n- Evapotranspiration: ET = Kc × ETo\n- Water Requirement: WR = A × (ET - Pe) × Ks\n- Irrigation Efficiency: IE = (Water Used / Water Required) × 100\nWhere Kc is crop coefficient, ETo is reference evapotranspiration, Pe is effective precipitation, and Ks is soil water depletion factor.";
            } else if (lowerMessage.includes('save') || lowerMessage.includes('efficient')) {
                return "To maximize water efficiency:\n1. Use precision irrigation scheduling\n2. Install soil moisture sensors\n3. Implement zonal irrigation\n4. Regular system maintenance\n5. Monitor weather forecasts\nThese practices can improve irrigation efficiency by 20-30% and reduce water waste significantly.";
            } else if (lowerMessage.includes('help')) {
                return "I can help you with:\n- System status and sensor readings\n- Irrigation optimization recommendations\n- Explanation of calculations and formulas\n- Water saving strategies\n- Simulation result analysis\n- Crop-specific irrigation advice\nWhat would you like to know more about?";
            } else {
                return "I understand you're asking about irrigation systems. As an AI assistant, I can provide insights on water optimization, precision farming techniques, and irrigation scheduling. Could you please rephrase your question or ask about a specific aspect of smart irrigation?";
            }
        }
    </script>
</body>
</html>